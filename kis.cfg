// KIS
@KISConfig[KISConfig]:FINAL{
  @EvaPickup {
    %maxDistance = 500
    %grabMaxMass = 500
    %allowPartAttach = true
    %allowStaticAttach = true
    %allowSnapAttach = true
  }
  //@Editor { @PodInventory { %addToAllSeats = KIS.electricScrewdriver } }
  @StackableItemOverride {
    partName = dockingPort3 // DockingPort jr
    partName = spotLight2   // Illuminator Mk2
    partName = KAS_CPort1   // KAS: CC-R2 Connector Port
    //partName = //
    //partName = //
    //partName = //
    //partName = //
    //partName = //
  }
  @StackableModule { moduleName = KOSNameTag }
}

@PART[*]:FINAL {
  @MODULE[ModuleKISInventory] {
    @externalAccess = true
    @internalAccess = true
  }
}

// remove parts
!PART[KIS_bomb1]           {}
!PART[KIS_ContainerMount1] {}
!PART[KIS_evapropellant]   {}
!PART[KIS_guide]           {}
!PART[KIS_wrench]          {}

@PART[KIS_electricScrewdriver] {
  %TechRequired = start
  %mass = 0
}

// volume overrides
// @stock scanner: 2500 // 6100

// "allow surface attach" for everything
@PART[*]:FINAL {	@attachRules[3] = 1 }

// add surface attach nodes
@PART[KIS_Container1]   { %node_attach = 0.0, -0.2477, 0.0, 0.0, -1.0, 0.0 }  // KIS
@PART[Ranger_ISM]       { %node_attach = 0.0, 0.0, 0.0, 0, 0, -1 } // USI
@PART[Ranger_Smelter]   { %node_attach = 0.0, 0.0, 0.0, 0, 0, -1 } // USI
@PART[Ranger_Sifter]    { %node_attach = 0.0, 0.0, 0.0, 0, 0, -1 } // USI
@PART[Ranger_Crusher]   { %node_attach = 0.0, 0.0, 0.0, 0, 0, -1 } // USI
@PART[Ranger_HabModule] { %node_attach = 0.0, 0.0, 0.0, 0, 0, -1 } // USI
@PART[Ranger_MiniHab]   { %node_attach = 0.0, 0.0, 0.0, 0, 0, -1 } // USI
@PART[Ranger_AgModule]  { %node_attach = 0.0, 0.0, 0.0, 0, 0, -1 } // USI
@PART[C3_FlatTank_01]   { %node_attach = 0.625, 0.0, 0.0, 1, 0, 0 } // USI
@PART[C3_FlatTank_02]   { %node_attach = 1.25,  0.0, 0.0, 1, 0, 0 } // USI
@PART[C3_FlatTank_03]   { %node_attach = 1.875, 0.0, 0.0, 1, 0, 0 } // USI
//@PART[] { %node_attach = } //
//@PART[] { %node_attach = } //
//@PART[] { %node_attach = } //

// allow surfaceAttach if a node is defined
@PART[*]:HAS[#node_attach[*]]:FINAL { @attachRules[1] = 1 }



@PART[KIS_Container1]{
  @MODULE[ModuleKISInventory]{
    @slotsX = 6
    @slotsY = 5
    //@internalAccess = true
  }
}
@PART[KIS_Container2]{
  @MODULE[ModuleKISInventory]{
    @slotsX = 10
    @slotsY = 6
  }
}
@PART[KIS_Container3]{
  @MODULE[ModuleKISInventory]{
    @slotsX = 6
    @slotsY = 6
  }
}
